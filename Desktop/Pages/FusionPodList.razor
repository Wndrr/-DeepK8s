@page "/FusionPodList"
@using System.Threading
@using Desktop.Fusion
@using System.Collections.Immutable
@using Stl.Concurrency
@using System.Collections.Concurrent
@inherits LiveComponentBase<List<V1Pod>>
@inject PodList Pods

<h3>FusionPodList</h3>
<ul>
    @foreach (var pod in State.LastValue ?? new List<V1Pod>())
    {
        <li>
            @pod.Kind
        </li>
    }
</ul>
@code {
    
    protected override async Task<List<V1Pod>> ComputeStateAsync(CancellationToken cancellationToken)
    {
        return await Pods.GetAll();
    }

}